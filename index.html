<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√Å NA M√ÉO DELIVERY</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #ff9f43; --green: #25d366; --dark: #2d3436; --admin: #54a0ff; --bg: #f8f9fa; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding-bottom: 110px; color: var(--dark); }
        header { background: var(--primary); color: white; text-align: center; padding: 25px 20px; border-radius: 0 0 25px 25px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .btn-gestor { background: rgba(255,255,255,0.2); border: none; color: white; padding: 5px 15px; border-radius: 20px; font-size: 10px; cursor: pointer; margin-top: 10px; }
        .container { max-width: 500px; margin: auto; padding: 15px; }
        #painel-adm { display: none; background: white; padding: 20px; border-radius: 20px; border: 2px dashed var(--admin); margin-bottom: 25px; }
        .input-adm, .select-adm { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; font-family: inherit; }
        .btn-salvar { background: var(--admin); color: white; border: none; width: 100%; padding: 12px; border-radius: 10px; font-weight: bold; cursor: pointer; }
        .categoria-titulo { font-size: 1.1rem; font-weight: 700; margin: 30px 0 15px; color: var(--primary); border-left: 5px solid var(--primary); padding-left: 10px; text-transform: uppercase; }
        .item { background: white; border-radius: 18px; padding: 12px; display: flex; align-items: center; margin-bottom: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.04); }
        .item-img { width: 75px; height: 75px; border-radius: 15px; object-fit: cover; margin-right: 15px; background: #eee; }
        .item-info { flex: 1; }
        .item-name { font-weight: 700; margin: 0; font-size: 0.9rem; }
        .item-desc { font-size: 0.65rem; color: #7f8c8d; margin: 3px 0; line-height: 1.2; }
        .item-price { color: var(--green); font-weight: 800; font-size: 0.95rem; }
        .controls { display: flex; align-items: center; gap: 8px; background: #f1f2f6; border-radius: 10px; padding: 5px; }
        .btn-qty { background: white; border: none; width: 28px; height: 28px; border-radius: 8px; cursor: pointer; font-weight: bold; color: var(--primary); font-size: 18px; }
        .qty { font-weight: bold; min-width: 15px; text-align: center; }
        #carrinho-modal { position: fixed; bottom: -100%; left: 0; width: 100%; height: 80%; background: white; z-index: 10000; border-radius: 30px 30px 0 0; transition: 0.4s; display: flex; flex-direction: column; box-shadow: 0 -10px 30px rgba(0,0,0,0.2); }
        #carrinho-modal.active { bottom: 0; }
        .cart-header { padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        .footer-cart { position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 15px 25px; box-shadow: 0 -5px 25px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; z-index: 999; border-radius: 20px 20px 0 0; cursor: pointer; }
        .btn-finalizar { background: var(--green); color: white; border: none; padding: 14px 22px; border-radius: 15px; font-weight: bold; cursor: pointer; }
        .overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); display:none; z-index: 9999; }
        .btn-del { color: #ff6b6b; border: none; background: none; font-size: 11px; cursor: pointer; display: none; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <h1>T√Å NA M√ÉO DELIVERY ü§ù</h1>
    <button class="btn-gestor" onclick="abrirAdmin()">‚öôÔ∏è GESTOR</button>
</header>

<div class="container">
    <div id="painel-adm">
        <h3 style="margin-top:0; color:var(--admin)">üõ†Ô∏è Gest√£o</h3>
        <select id="adm-categoria-select" class="select-adm"></select>
        <input type="text" id="adm-nome" placeholder="Nome" class="input-adm">
        <input type="text" id="adm-desc" placeholder="Ingredientes" class="input-adm">
        <input type="number" id="adm-preco" placeholder="Pre√ßo" class="input-adm">
        <input type="text" id="adm-foto" placeholder="Link da Foto" class="input-adm">
        <button class="btn-salvar" onclick="cadastrarProduto()">ADICIONAR</button>
    </div>

    <div id="cardapio-dinamico"></div>
</div>

<div class="overlay" id="overlay" onclick="toggleCarrinho()"></div>
<div id="carrinho-modal">
    <div class="cart-header">
        <h2 style="margin:0; font-size: 1.2rem;">Meu Pedido</h2>
        <button onclick="toggleCarrinho()" style="border:none; background:none; font-size: 1.5rem;">‚úï</button>
    </div>
    <div id="cart-itens-lista" style="flex:1; overflow-y:auto; padding:20px;"></div>
    <div style="padding: 20px;">
        <button class="btn-finalizar" style="width:100%" onclick="enviarPedido()">PEDIR PELO WHATSAPP</button>
    </div>
</div>

<div class="footer-cart" onclick="toggleCarrinho()">
    <div>
        <small style="color:#95a5a6; font-weight:600">Total do pedido</small><br>
        <span style="font-size: 1.3rem; font-weight: 800;">R$ <span id="display-total">0,00</span></span>
    </div>
    <button class="btn-finalizar">CARRINHO</button>
</div>

<script>
    let isGestor = false;
    let dadosCardapio = {
        "Hamb√∫rgueres": [
            { nome: "Tradicional", desc: "Carne grelhada, queijo mussarela, ovo, calabresa, alface, cebola, tomate e molho especial.", preco: 10.00, foto: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=200" },
            { nome: "X Bacon", desc: "Carne grelhada, queijo cheddar, bacon, ovo, cebolas caramelizadas e molho especial.", preco: 14.00, foto: "https://images.unsplash.com/photo-1553979459-d2229ba7433b?w=200" },
            { nome: "X Calabresa e Bacon", desc: "Carne grelhada, queijo cheddar, ovo, bacon, calabresa e cebolas caramelizadas.", preco: 15.00, foto: "https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?w=200" },
            { nome: "Veterano", desc: "2 Carnes grelhadas, ovo, queijo mussarela, calabresa, bacon, alface, cebola e tomate.", preco: 20.00, foto: "https://images.unsplash.com/photo-1586190848861-99aa4a171e90?w=200" }
        ],
        "Hamb√∫rguer Artesanal": [
            { nome: "Tradicional Artesanal", desc: "Carne artesanal grelhada, queijo mussarela, calabresa, ovo, alface, cebola e tomate.", preco: 13.00, foto: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=200" },
            { nome: "X Bacon Duplo", desc: "2 Carnes artesanais grelhadas, queijo cheddar, bacon e cebolas caramelizadas.", preco: 20.00, foto: "https://images.unsplash.com/photo-1596662951482-0c4ba74a6df6?w=200" },
            { nome: "X Calabresa/B", desc: "Carne artesanal grelhada, queijo cheddar, calabresa, bacon e cebolas caramelizadas.", preco: 17.00, foto: "https://images.unsplash.com/photo-1550547660-d9450f859349?w=200" },
            { nome: "Veterano Artesanal", desc: "2 Carnes artesanais grelhadas, ovo, queijo mussarela, calabresa, bacon e salada.", preco: 25.00, foto: "https://images.unsplash.com/photo-1550317144-b38c572007db?w=200" }
        ],
        "Sucos": [
            { nome: "Suco de Acerola", desc: "Sudo de acerola natural.", preco: 5.00, foto: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=200" },
            { nome: "Suco de Goiaba", desc: "Suco de goiaba natural.", preco: 5.00, foto: "https://images.unsplash.com/photo-1629019725048-70607998335f?w=200" }
        ],
        "Vitaminas": [
            { nome: "Vitamina de Acerola", desc: "Vitamina gelada.", preco: 7.00, foto: "https://images.unsplash.com/photo-1553530666-ba11a7da3888?w=200" },
            { nome: "Vitamina de Goiaba", desc: "Vitamina gelada.", preco: 7.00, foto: "https://images.unsplash.com/photo-1570197571499-166b36435e9f?w=200" }
        ],
        "Refrigerante": [
            { nome: "Guaran√° 200ml", desc: "Lata/Garrafa pequena.", preco: 3.00, foto: "https://images.unsplash.com/photo-1622483767028-3f66f32aef97?w=200" },
            { nome: "Pepsi 200ml", desc: "Garrafa pequena.", preco: 3.00, foto: "https://images.unsplash.com/photo-1629203851022-37c65dfd16c2?w=200" },
            { nome: "Pepsi 1 Litro", desc: "Garrafa de 1 litro.", preco: 8.00, foto: "https://images.unsplash.com/photo-1629203851022-37c65dfd16c2?w=200" },
            { nome: "Guaran√° 1 Litro", desc: "Garrafa de 1 litro.", preco: 8.00, foto: "https://images.unsplash.com/photo-1622483767028-3f66f32aef97?w=200" }
        ]
    };

    window.onload = renderizarCardapioCompleto;

    function renderizarCardapioCompleto() {
        const container = document.getElementById('cardapio-dinamico');
        const select = document.getElementById('adm-categoria-select');
        container.innerHTML = ""; select.innerHTML = "";
        for (let cat in dadosCardapio) {
            select.innerHTML += `<option value="${cat}">${cat}</option>`;
            let html = `<div class="categoria-titulo">${cat}</div>`;
            dadosCardapio[cat].forEach(item => {
                html += `
                <div class="item" data-nome="${item.nome}" data-preco="${item.preco}">
                    <img src="${item.foto}" class="item-img">
                    <div class="item-info">
                        <p class="item-name">${item.nome}</p>
                        <p class="item-desc">${item.desc}</p>
                        <span class="item-price">R$ ${item.preco.toFixed(2).replace('.', ',')}</span>
                        <button class="btn-del" style="display:${isGestor?'block':'none'}" onclick="removerItemDB('${cat}', '${item.nome}')">‚ùå Excluir</button>
                    </div>
                    <div class="controls">
                        <button class="btn-qty" onclick="alterarQtd(this, -1)">-</button>
                        <span class="qty">0</span>
                        <button class="btn-qty" onclick="alterarQtd(this, 1)">+</button>
                    </div>
                </div>`;
            });
            container.insertAdjacentHTML('beforeend', html);
        }
    }

    function abrirAdmin() {
        if (prompt("Senha:") === "1234") { isGestor = !isGestor; document.getElementById('painel-adm').style.display = isGestor ? 'block' : 'none'; renderizarCardapioCompleto(); }
    }

    function cadastrarProduto() {
        const cat = document.getElementById('adm-categoria-select').value;
        const nome = document.getElementById('adm-nome').value;
        const desc = document.getElementById('adm-desc').value;
        const preco = parseFloat(document.getElementById('adm-preco').value);
        const foto = document.getElementById('adm-foto').value || "https://cdn-icons-png.flaticon.com/512/3075/3075977.png";
        if(nome && preco) { dadosCardapio[cat].push({ nome, desc, preco, foto }); renderizarCardapioCompleto(); }
    }

    function removerItemDB(cat, nome) { if(confirm("Excluir?")) { dadosCardapio[cat] = dadosCardapio[cat].filter(i => i.nome !== nome); renderizarCardapioCompleto(); atualizarTotal(); } }

    function alterarQtd(b, v) {
        if(isGestor) return;
        const s = b.parentElement.querySelector('.qty');
        let q = parseInt(s.innerText) + v;
        if (q < 0) q = 0; s.innerText = q;
        atualizarTotal();
    }

    function atualizarTotal() {
        let t = 0;
        document.querySelectorAll('.item').forEach(i => t += parseFloat(i.getAttribute('data-preco')) * parseInt(i.querySelector('.qty').innerText));
        document.getElementById('display-total').innerText = t.toFixed(2).replace('.', ',');
    }

    function toggleCarrinho() {
        const m = document.getElementById('carrinho-modal');
        const l = document.getElementById('cart-itens-lista');
        l.innerHTML = ""; let tem = false;
        document.querySelectorAll('.item').forEach(i => {
            const q = parseInt(i.querySelector('.qty').innerText);
            if(q > 0) {
                tem = true;
                l.innerHTML += `<div style="display:flex; justify-content:space-between; margin-bottom:10px;"><span>${q}x ${i.getAttribute('data-nome')}</span><b>R$ ${(parseFloat(i.getAttribute('data-preco'))*q).toFixed(2).replace('.',',')}</b></div>`;
            }
        });
        if(!tem && !m.classList.contains('active')) return alert("Carrinho vazio!");
        m.classList.toggle('active');
        document.getElementById('overlay').style.display = m.classList.contains('active') ? 'block' : 'none';
    }

    function enviarPedido() {
        let t = 0, msg = "*NOVO PEDIDO - T√Å NA M√ÉO* ü§ù%0A%0A";
        document.querySelectorAll('.item').forEach(i => {
            const q = parseInt(i.querySelector('.qty').innerText);
            if (q > 0) { msg += `‚ñ™Ô∏è *${q}x* ${i.getAttribute('data-nome')}%0A`; t += parseFloat(i.getAttribute('data-preco')) * q; }
        });
        msg += `%0A*TOTAL: R$ ${t.toFixed(2).replace('.', ',')}*`;
        window.open(`https://wa.me/5598984531899?text=${msg}`);
    }
</script>
</body>
</html>
